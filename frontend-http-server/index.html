<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.4.2/css/tabulator.min.css" rel="stylesheet">
</head>
<body>
<!-- DOM section -->

<div id="main-div">
    <div id="input-box" class="bordered">
        <form id="fileinfo" class="bordered" action="http://localhost:8000/api/docminer/files/"
              method="post"
              enctype="multipart/form-data">
            <input name="title" type="text" value="Sample PDF">
            <input name="institute_name" type="text" value="Etrade">
            <input name="document_type" type="text" value="ContractNote">
            <input name="password" type="text" value="No password">
            <input name="remark" type="text" value="No Remark">
            <input name="file" type="file" id="image">
            <input type="submit">
        </form>

        <div id="file-input" class="bordered">
            <span>File ID</span>
            <input id="input_file_id" type="text" name="file_id" value="45"/>
            <button id="btn_documentize">Documentize File</button>
            <!-- <button id="btn_load_file">Load File</button>-->
        </div>
        <div id="document-input" class="bordered">
            <span>Document ID</span>
            <input id="input_document_id" type="text" name="document_id" value="102"/>
            <button id="btn_download">Get Transactions</button>
            <!-- <button id="btn_load_file">Load File</button>-->
        </div>
        <!--
        <form id="fileinfo" action="http://localhost:8000/api/docminer/files/"
              method="post"
              enctype="multipart/form-data">
            <input name="title" type="text" value="Sample PDF">
            <input name="institute_name" type="text" value="SBI">
            <input name="document_type" type="text" value="CreditCardStatement">
            <input name="password" type="text" value="4335876444592308">
            <input name="remark" type="text" value="No Remark">
            <input name="file" type="file" id="image">
            <input type="submit">
        </form>
        -->
    </div>

    <div id="document-info">

        <div class="bordered">
            <button id="btn_create_regex">Create Regex</button>
            <!--<div id="document-text" class="bordered scrollable"></div>-->
            <textarea id="document-text"
                      class="bordered scrollable" readonly>
            </textarea>
        </div>
        <div class="bordered">
            <button id="btn_apply_regex">Apply Regex</button>
            <textarea id="regex-text"
                      class="bordered scrollable">
            </textarea>
        </div>
        <div id="regex-transactions-table"></div>

        <div id="document-pandas" class="bordered scrollable"></div>
        <div>
            <button id="btn_download_excel">Download Excel</button>
        </div>
        <div id="document-transactions-table"></div>
    </div>

    <div id="database-info" class="bordered">
        <button id="btn_save_snowflake">Save to Snowflake</button>
        <div id="account-transactions-table"></div>
    </div>
</div>

<!-- scripts section -->

<!-- jquery is required for tabulator.js -->
<script   src="http://code.jquery.com/jquery-3.3.1.min.js"   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="   crossorigin="anonymous"></script>
<script   src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"   integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="   crossorigin="anonymous"></script>

<!-- moment.js is required for sorting tabulator table based on date -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

<!-- tabulator library is for displaying json array in tabular fashion -->
<link href="https://unpkg.com/tabulator-tables@4.2.7/dist/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.2.7/dist/js/tabulator.min.js"></script>

<!-- Main code which uses js libraries:
    i) Fetch document transactions using API
    ii) Display transactions received as json array in a table format using tabulator
-->
<script type="text/javascript" src="sample_json_data.js"></script>
<script type="text/javascript" src="main.js"></script>
</body>
</html>
